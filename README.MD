ğŸš€ selenium-ptest
Ejemplo de proyecto con pruebas funcionales en CI/Cd usando Selenium, pytest y GitHub Actions.

ğŸ“ Estructura del proyecto
bash
Copiar
Editar
selenium-ptest/
â”‚
â”œâ”€â”€ .github/workflows/selenium-test.yml   # ConfiguraciÃ³n del workflow CI con Actions
â”œâ”€â”€ assets/                                # Capturas, configuraciones, etc. (opcional)
â”œâ”€â”€ ci_smoke_test.py                       # Script principal para tests en CI
â”œâ”€â”€ smoke_test.py                          # VersiÃ³n con pytest para reportes HTML
â”œâ”€â”€ requirements.txt                       # Dependencias del proyecto
â””â”€â”€ README.md                              # Este archivo
ğŸ§ª Requisitos
Python 3.7+

Chrome instalado en runner (CI) o local

Dependencias definidas en requirements.txt:

text
Copiar
Editar
pytest
pytest-html
selenium
webdriver-manager
InstalaciÃ³n local:

bash
Copiar
Editar
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
ğŸ”„ CÃ³mo ejecutar tests
ğŸ  En tu entorno local
Prueba manual:

bash
Copiar
Editar
python ci_smoke_test.py
Con pytest y reporte:

bash
Copiar
Editar
pytest smoke_test.py --html=report.html
Luego abre report.html en cualquier navegador para ver logs, pasos y capturas.

ğŸ”§ En CI (GitHub Actions)
Definimos el archivo .github/workflows/selenium-test.yml con estos pasos:

Checkout del repositorio

InstalaciÃ³n de Python y dependencias

EjecuciÃ³n de ci_smoke_test.py en modo headless

Subida de captura de error (screenshot_error.png) como artifact

âœ… Flujo del smoke test (ci_smoke_test.py)
Inicia Chrome en modo headless con webdriver-manager

Abre DuckDuckGo

Busca â€œinmuebles en BogotÃ¡â€

Valida que aparezcan resultados (h2 > a)

Si falla, captura screenshot

Cierra el navegador y retorna error si algo fallÃ³

ğŸ“Š Reportes con pytest
El archivo smoke_test.py estÃ¡ preparado para usar pytest, genera un informe HTML con:

Resultado PASS/FAIL

Capturas automÃ¡ticas al fallar

Logs detallados de cada paso

Ejemplo:

bash
Copiar
Editar
pytest smoke_test.py --html=report.html --self-contained-html
â˜ï¸ Artifacts en CI
GitHub Actions compila un artifact que incluye:

report.html (resultado de pytest)

screenshot_error.png si hay error

Puedes descargarlo desde la pestaÃ±a Artifacts del pipeline.

ğŸ“ Recomendaciones y mejoras
Agregar pytest fixtures para el setup/teardown del navegador

Usar pytest.ini para configurar filtros y logs

Extender tests a otros escenarios: login, formulario, navegaciÃ³n, etc.

Incluir anÃ¡lisis de cobertura o reportes de visualizaciÃ³n

ğŸ¯ Objetivo del proyecto
Demostrar cÃ³mo integrar pruebas funcionales de interfaz con Selenium dentro de un pipeline CI moderno, generando reportes ricos y capturando errores automÃ¡ticamente para facilitar el anÃ¡lisis y la mejora continua.
